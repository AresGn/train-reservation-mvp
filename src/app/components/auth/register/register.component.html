<div class="register-container">
  <div class="form-header">
    <h1>Cr√©er un compte</h1>
    <p>Remplissez ce formulaire pour vous inscrire</p>
  </div>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <div class="form-grid">
      <!-- Pr√©nom -->
      <div class="form-group">
        <label for="firstName">Pr√©nom *</label>
        <input 
          type="text" 
          id="firstName" 
          formControlName="firstName"
          [ngClass]="{'is-invalid': formSubmitted && f['firstName'].errors}"
        >
        <div class="validation-message" *ngIf="formSubmitted && f['firstName'].errors">
          <span *ngIf="f['firstName'].errors['required']">Le pr√©nom est requis</span>
          <span *ngIf="f['firstName'].errors['minlength']">Le pr√©nom doit contenir au moins 2 caract√®res</span>
        </div>
      </div>
      
      <!-- Nom -->
      <div class="form-group">
        <label for="lastName">Nom *</label>
        <input 
          type="text" 
          id="lastName" 
          formControlName="lastName"
          [ngClass]="{'is-invalid': formSubmitted && f['lastName'].errors}"
        >
        <div class="validation-message" *ngIf="formSubmitted && f['lastName'].errors">
          <span *ngIf="f['lastName'].errors['required']">Le nom est requis</span>
          <span *ngIf="f['lastName'].errors['minlength']">Le nom doit contenir au moins 2 caract√®res</span>
        </div>
      </div>
    </div>

    <!-- Email -->
    <div class="form-group">
      <label for="email">Email *</label>
      <input 
        type="email" 
        id="email" 
        formControlName="email"
        [ngClass]="{'is-invalid': formSubmitted && f['email'].errors}"
      >
      <div class="validation-message" *ngIf="formSubmitted && f['email'].errors">
        <span *ngIf="f['email'].errors['required']">L'email est requis</span>
        <span *ngIf="f['email'].errors['email']">Veuillez entrer une adresse email valide</span>
      </div>
    </div>
    
    <!-- Mot de passe -->
    <div class="form-group">
      <label for="password">Mot de passe *</label>
      <div class="input-container">
        <input 
          [type]="passwordVisible ? 'text' : 'password'" 
          id="password" 
          formControlName="password"
          [ngClass]="{'is-invalid': formSubmitted && f['password'].errors}"
        >
        <span class="password-toggle" (click)="togglePasswordVisibility()">
          {{ passwordVisible ? 'üëÅÔ∏è' : 'üëÅÔ∏è‚Äçüó®Ô∏è' }}
        </span>
      </div>
      <div class="validation-message" *ngIf="formSubmitted && f['password'].errors">
        <span *ngIf="f['password'].errors['required']">Le mot de passe est requis</span>
        <span *ngIf="f['password'].errors['minlength']">Le mot de passe doit contenir au moins 8 caract√®res</span>
        <span *ngIf="f['password'].errors['weakPassword']">Le mot de passe ne respecte pas les conditions de s√©curit√©</span>
      </div>
      
      <!-- Instructions de mot de passe -->
      <div class="password-strength" *ngIf="f['password'].value">
        <p>Votre mot de passe doit contenir:</p>
        <ul>
          <li [ngClass]="{ 'valid': hasUpperCase(f['password'].value), 'invalid': !hasUpperCase(f['password'].value) }">
            Au moins une lettre majuscule
          </li>
          <li [ngClass]="{ 'valid': hasLowerCase(f['password'].value), 'invalid': !hasLowerCase(f['password'].value) }">
            Au moins une lettre minuscule
          </li>
          <li [ngClass]="{ 'valid': hasDigit(f['password'].value), 'invalid': !hasDigit(f['password'].value) }">
            Au moins un chiffre
          </li>
          <li [ngClass]="{ 'valid': hasSpecialChar(f['password'].value), 'invalid': !hasSpecialChar(f['password'].value) }">
            Au moins un caract√®re sp√©cial (!&#64;#$%^&*)
          </li>
          <li [ngClass]="{ 'valid': f['password'].value.length >= 8, 'invalid': f['password'].value.length < 8 }">
            Minimum 8 caract√®res
          </li>
        </ul>
      </div>
    </div>

    <div class="form-grid">
      <!-- Genre -->
      <div class="form-group">
        <label for="gender">Genre *</label>
        <select 
          id="gender" 
          formControlName="gender"
          [ngClass]="{'is-invalid': formSubmitted && f['gender'].errors}"
        >
          <option value="">S√©lectionnez</option>
          <option value="male">Homme</option>
          <option value="female">Femme</option>
          <option value="other">Autre</option>
        </select>
        <div class="validation-message" *ngIf="formSubmitted && f['gender'].errors">
          <span *ngIf="f['gender'].errors['required']">Le genre est requis</span>
        </div>
      </div>
      
      <!-- √Çge -->
      <div class="form-group">
        <label for="age">√Çge *</label>
        <input 
          type="number" 
          id="age" 
          formControlName="age"
          [ngClass]="{'is-invalid': formSubmitted && f['age'].errors}"
        >
        <div class="validation-message" *ngIf="formSubmitted && f['age'].errors">
          <span *ngIf="f['age'].errors['required']">L'√¢ge est requis</span>
          <span *ngIf="f['age'].errors['min']">L'√¢ge doit √™tre sup√©rieur √† 0</span>
          <span *ngIf="f['age'].errors['max']">L'√¢ge doit √™tre inf√©rieur √† 120</span>
        </div>
      </div>
    </div>
    
    <!-- Lieu de r√©sidence -->
    <div class="form-group">
      <label for="residence">Lieu de r√©sidence *</label>
      <input 
        type="text" 
        id="residence" 
        formControlName="residence"
        [ngClass]="{'is-invalid': formSubmitted && f['residence'].errors}"
      >
      <div class="validation-message" *ngIf="formSubmitted && f['residence'].errors">
        <span *ngIf="f['residence'].errors['required']">Le lieu de r√©sidence est requis</span>
      </div>
    </div>
    
    <!-- Nationalit√© -->
    <div class="form-group">
      <label for="nationality">Nationalit√© *</label>
      <input 
        type="text" 
        id="nationality" 
        formControlName="nationality"
        [ngClass]="{'is-invalid': formSubmitted && f['nationality'].errors}"
      >
      <div class="validation-message" *ngIf="formSubmitted && f['nationality'].errors">
        <span *ngIf="f['nationality'].errors['required']">La nationalit√© est requise</span>
      </div>
    </div>
    
    <!-- Bouton de soumission -->
    <div class="form-actions">
      <button type="submit" [disabled]="isSubmitting">
        <span class="spinner" *ngIf="isSubmitting"></span>
        {{ isSubmitting ? 'Inscription en cours...' : "S'inscrire" }}
      </button>
    </div>
  </form>
  
  <!-- Lien vers la page de connexion -->
  <div class="login-link">
    D√©j√† un compte? <a routerLink="/login">Se connecter</a>
  </div>
</div>
